<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ABSOLUTE CHAOS DINNER WHEEL</title>

<style>

body{
margin:0;
background:radial-gradient(circle,#1a0033,#000);
color:white;
font-family:-apple-system,BlinkMacSystemFont,system-ui;
text-align:center;
overflow-x:hidden;
}

h1{
font-size:clamp(28px,7vw,46px);
margin-top:18px;
animation:pulse 2s infinite alternate;
}

@keyframes pulse{
from{text-shadow:0 0 10px #ff00ff,0 0 20px #00eaff}
to{text-shadow:0 0 30px #fff,0 0 60px #ff00ff}
}

canvas{
width:94vw;
max-width:520px;
margin:18px auto;
display:block;
border-radius:50%;
box-shadow:0 0 25px #ff00ff,0 0 80px #00eaff;
}

button{
font-size:clamp(20px,5vw,30px);
padding:18px 34px;
border:none;
border-radius:16px;
margin:8px;
font-weight:900;
background:linear-gradient(45deg,#ff00ff,#00eaff);
color:black;
}

#winner{
font-size:clamp(28px,7vw,48px);
margin:20px;
font-weight:900;
opacity:0;
}

.flash{
animation:flash .5s infinite alternate;
}

@keyframes flash{
from{transform:scale(1);text-shadow:0 0 10px white,0 0 30px #ff00ff}
to{transform:scale(1.05);text-shadow:0 0 25px white,0 0 70px #00eaff}
}

/* CONFETTI */
.confetti{
position:fixed;
width:8px;
height:8px;
top:-10px;
pointer-events:none;
animation:fall linear forwards;
}

@keyframes fall{
to{transform:translateY(110vh) rotate(720deg);}
}

</style>
</head>

<body>

<h1>ðŸŽ° DINNER WHEEL OF DESTINY ðŸŽ°</h1>

<button onclick="spin()">SPIN THE DAMN WHEEL</button>
<button onclick="spin()">SPIN AGAIN (THAT PLACE SUCKS)</button>

<canvas id="wheel" width="600" height="600"></canvas>

<div id="winner"></div>

<script>

// -------- OPTIONS --------

const options=[
"Rocas Charleston",
"KC Buffet",
"Kita",
"Pies",
"Qdoba",
"IHOP KC",
"Crapplebeeâ€™s",
"Black Sheep",
"Slob Evans"
];

const colors=[
"#ff00ff","#00eaff","#ff2a6d",
"#00ffa6","#ffd400","#9d6bff",
"#00d4ff","#ff7a00","#39ff14"
];

// -------- CANVAS --------

const canvas=document.getElementById("wheel");
const ctx=canvas.getContext("2d");
const r=canvas.width/2;

let angle=0;
let spinning=false;

function draw(){

ctx.clearRect(0,0,canvas.width,canvas.height);
const slice=2*Math.PI/options.length;

options.forEach((o,i)=>{

ctx.beginPath();
ctx.moveTo(r,r);
ctx.arc(r,r,r-5,i*slice+angle,(i+1)*slice+angle);
ctx.fillStyle=colors[i%colors.length];
ctx.fill();

ctx.save();
ctx.translate(r,r);
ctx.rotate(i*slice+slice/2+angle);
ctx.fillStyle="white";
ctx.font="bold 22px system-ui";
ctx.textAlign="right";
ctx.fillText(o,r-30,8);
ctx.restore();

});

// RIGHT SIDE POINTER
ctx.fillStyle="white";
ctx.beginPath();
ctx.moveTo(canvas.width-8,r);
ctx.lineTo(canvas.width-44,r-20);
ctx.lineTo(canvas.width-44,r+20);
ctx.fill();

}

draw();

// -------- SOUNDS --------

function tick(){
const a=new(window.AudioContext||window.webkitAudioContext)();
const o=a.createOscillator();
const g=a.createGain();
o.connect(g);g.connect(a.destination);
o.frequency.value=600+Math.random()*200;
o.start();
g.gain.setValueAtTime(.08,a.currentTime);
g.gain.exponentialRampToValueAtTime(.0001,a.currentTime+.04);
o.stop(a.currentTime+.04);
}

// -------- CONFETTI --------

function confetti(){

for(let i=0;i<120;i++){
let c=document.createElement("div");
c.className="confetti";
c.style.left=Math.random()*100+"vw";
c.style.background=colors[Math.floor(Math.random()*colors.length)];
c.style.animationDuration=(Math.random()*2+2)+"s";
document.body.appendChild(c);
setTimeout(()=>c.remove(),4000);
}

}

// -------- VOICE --------

function announce(text){
const msg=new SpeechSynthesisUtterance("The wheel has chosen... "+text);
msg.rate=.9;
msg.pitch=1.1;
speechSynthesis.speak(msg);
}

// -------- SPIN --------

function spin(){

if(spinning) return;
spinning=true;

document.getElementById("winner").style.opacity=0;

let velocity=Math.random()*0.55+0.45;

function frame(){

angle+=velocity;
velocity*=0.987;

if(Math.random()<0.4) tick();

draw();

if(velocity>0.002){

requestAnimationFrame(frame);

}else{

spinning=false;

const slice=2*Math.PI/options.length;

// RIGHT POINTER EXACT MATCH
let pointer=(0-angle)%(2*Math.PI);
if(pointer<0) pointer+=2*Math.PI;

let index=Math.floor(pointer/slice)%options.length;
let result=options[index];

// vibration (mobile supported browsers)
if(navigator.vibrate) navigator.vibrate([200,100,200]);

confetti();

announce(result);

const w=document.getElementById("winner");
w.innerHTML="ðŸ½ï¸ "+result.toUpperCase()+" ðŸ½ï¸";
w.style.opacity=1;
w.classList.add("flash");

}

}

frame();

}

</script>

</body>
</html>
